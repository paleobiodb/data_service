<HTML>
<HEAD>
<TITLE>PBDB General Notes</TITLE>
<style type="text/css">

H2 {
	font-weight:bold;
	font-size: 150%;
}

LI.index {
	font-weight: normal;
}

DIV.section {
	margin: 1em 1em 1em 1em;
	padding: 1em 1em 1em 1em;
	background-color: RGB(240,240,240);
	border-color: RGB(200,200,200);
	border-width: 1px 1px 1px 1px;
	border-style: solid;
}

SPAN.table {
	color: darkblue;
	font-weight: bold;
}

SPAN.term {
	font-style: italic;

}

SPAN.field {
	font-style: italic;
	color:darkblue;	
}

SPAN.title {
	text-decoration: underline;
	
	background-color: RGB(220,220,220);
	font-weight: bold;
	
	padding: 0.1em 1em 0.1em 0.5em;
	border-color: RGB(200,200,200);
	border-width: 1px 1px 1px 1px;
	border-style: solid;
}

SPAN.HTMLtag {
	color: darkblue;
	font-family: monospace;

}

SPAN.emphasized {
	background-color: RGB(230,230,230);
	font-weight: bold;
}

</style>
</HEAD>

<BODY>

<H2>PBDB General Notes</H2>


<div>
<UL>

<LI><B>Policies</B>
<UL>
	<LI class="index"><A HREF="#accesspolicies">Access Control</A></LI>
	<LI class="index"><A HREF="#editingpolicies">Editing of Forms</A></LI>
	<LI class="index"><A HREF="#HTMLpolicies">HTML Style</A></LI>
</UL>
</LI>

</UL>
</div>
<BR>

<DIV class="section">
<A NAME="accesspolicices"><SPAN class="title">Access Control</SPAN></A>

<DIV>
<p>
Access is controlled to the <SPAN class="table">collections</SPAN>, <SPAN class="table">occurrences</SPAN>, and <SPAN class="table">reidentifications</SPAN> tables. The access information is stored in the <SPAN class="table">collections</SPAN> table in the form of an <SPAN class="field">access_level</SPAN> ('the public', 'database members', 'group members', 'authorizers only'), and a <SPAN class="field">release_date</SPAN> which denotes the date at which the access level reverts to public.
</p>
<p>
If the <SPAN class="field">release_date</SPAN> has passed, the actual <SPAN class="field">access_level</SPAN> field of the record is <i>not</i> changed, however the scripts know that anyone may now view the record.
</p>
</DIV>

</DIV>



<DIV class="section">
<A NAME="editingpolicies"><SPAN class="title">Editing of Forms</SPAN></A>

<DIV>
<p>
Record the <SPAN class="field">person_no</SPAN> of the enterer in the
<SPAN class="field">modifier</SPAN> field.
</p>

<p><SPAN class="emphasized">authorities, opinions</SPAN> 
Any (authorizer, enterer) pair can edit a <b>NULL</B> field.  If the authorizer is the same as the original, then any enterer can edit any field.
</p>

<p><SPAN class="emphasized">collections, occurrences</SPAN>
As long as the authorizer is the same as original, any enterer can edit any field.
</p>

<p><SPAN class="emphasized">refs</SPAN>
Any (authorizer, enterer) pair can edit any field.
</p>
</DIV>

</DIV>


<DIV class="section">
<A NAME="HTMLpolicies"><SPAN class="title">HTML Style</SPAN></A>

<DIV>
<p>
To make it easier to perform search and replace using regular expressions on template files,
all template HTML tags should conform to one standard.  This isn't as flexible, but it 
will make the regular expressions easier to write/debug, and should be faster to process.
</p>

<p>
Tags such as <SPAN class="HTMLtag">input</SPAN>, <SPAN class="HTMLtag">textarea</SPAN>,
and <SPAN class="HTMLtag">select</SPAN> should all conform to this standard ordering:
</p>

<p><SPAN class="HTMLtag">&#060tag type="the_type" name="the_name" id="the_id" value="the_value"&#062</SPAN>

<BR>

Note, that the <SPAN class="HTMLtag">type</SPAN> and <SPAN class="HTMLtag">id</SPAN> portions are optional.  The main thing that will matter for the regular expressions is the ordering of the elements.  If tags don't follow the ordering, then it's possible that they won't be replaced 
with hidden fields, etc..
</p>




</DIV>

</DIV>



</BODY>
</HTML>