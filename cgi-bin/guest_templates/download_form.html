<script language="JavaScript" type="text/javascript">
<!-- Begin

// Smart handling of the period
function intervalsClick ( ) {
	var frm = document.forms[0];
	var onePeriodChecked = false;

	var intervalCount = frm.intervals.length;
	for ( var i=0; i<intervalCount; i++ ) {
		if ( frm.intervals[i].checked ) {
			onePeriodChecked = true;
			break;
		}
	}
	if ( onePeriodChecked ) {
		frm.interval[3].checked = true;
	}
}

function intervalClick ( ) {

	var frm = document.forms[0];

	if ( ! frm.interval[3].checked ) {

		// Uncheck all intervals checkboxes
		var intervalCount = frm.intervals.length;
		for ( var i=0; i<intervalCount; i++ ) {
			frm.intervals[i].checked = false;
		}
	}
}

function globalClick ( ) {

	var frm = document.forms[0];

	if ( frm.global.checked ) {
		// Uncheck all continents
		frm.Africa.checked = false;
		frm.Antarctica.checked = false;
		frm.Asia.checked = false;
		frm.Australia.checked = false;
		frm.Europe.checked = false;
		frm.elements['North America'].checked = false;
		frm.elements['South America'].checked = false;
	}
}

function continentClick ( ) {

	var frm = document.forms[0];

	if (	frm.Africa.checked || 
			frm.Antarctica.checked || 
			frm.Asia.checked || 
			frm.Australia.checked || 
			frm.Europe.checked || 
			frm.elements['North America'].checked || 
			frm.elements['South America'].checked  ) {
		frm.global.checked = false;
	} else {
		// At least one must be checked, or hit the global
		frm.global.checked = true;
	}
}

function countryChange() {
	var frm = document.forms[0];

	if (frm.country.value != "") {
		frm.global.checked = true;
		globalClick();
	}
}

function occurrencesNoneClick ( ) {

	var frm = document.forms[0];

	if ( frm.collections_only.checked ) {
		frm.occurrences_authorizer.checked = false;
		frm.occurrences_enterer.checked = false;
		frm.occurrences_modifier.checked = false;
		frm.occurrences_occurrence_no.checked = false;
		frm.occurrences_species_name.checked = false;
		frm.occurrences_abund_value.checked = false;
		frm.occurrences_abund_unit.checked = false;
		frm.occurrences_reference_no.checked = false;
		frm.occurrences_comments.checked = false;
		frm.occurrences_created.checked = false;
		frm.occurrences_modified.checked = false;
	}
}

function occurrencesClick ( ) {

	var frm = document.forms[0];

	if (	frm.occurrences_authorizer.checked ||
			frm.occurrences_enterer.checked ||
			frm.occurrences_modifier.checked ||
			frm.occurrences_occurrence_no.checked ||
			frm.occurrences_species_name.checked ||
			frm.occurrences_abund_value.checked ||
			frm.occurrences_abund_unit.checked ||
			frm.occurrences_reference_no.checked ||
			frm.occurrences_comments.checked ||
			frm.occurrences_created.checked ||
			frm.occurrences_modified.checked ) {
		frm.collections_only.checked = false;
	} else {
		frm.collections_only.checked = true;
	}
}

function collsCheckAll(){
	var frm = document.forms[0];
	
	for(var i=0; i<frm.elements.length; i++){
		if(frm.elements[i].name.match("collections") &&
			frm.elements[i].name != "collections_only"){
			frm.elements[i].checked = true;
		}
	}
}

//  End -->
</script>




<DIV class="title">Download request form</div>

<p>This form allows you to download a file that includes selected taxonomic occurrences. To compute a diversity curve, you need to check off either "epoch" or "10 m.y. bin" in the "Collection fields" part of the form.</p>

<form method=post action="bridge.pl">
<input id="action" type=hidden name="action" value="displayDownloadResults">
<input id="user" type=hidden name="user" value="Guest">

<hr>

<center><h3>Options</h3></center>

<table width="100%">

<tr><td valign=top><font size=-1>
Select the research group:
<td valign=top><font size=-1>
<select id="research_group">
</select>

<tr><td valign="top"><font size=-1>Data authorizer:</font></td>
<td><select name="authorizer"></select></td>

<tr><td valign=top><font size=-1>
Use occurrences published
<select name="published_before_after">
<option>before</option>
<option selected>after</option>
</select>:
</font></td>

<td><font size=-1>
<input name="pubyr" size=6>
</font></td>
</tr>

<tr><td valign=top><font size=-1>
If you only want lists from one time span, enter the oldest and youngest intervals <small><i>(do NOT enter numbers or terms like "Middle")</i></small>:
<td valign=top><font size=-1>
<input name=max_interval_name size=25> - <input name=min_interval_name size=25>

<tr><td valign=top><font size=-1>
Name of taxon or taxa <small><i>(genus or higher rank)</i></small>:
<td valign=top><font size=-1>
<input  name=genus_name size=25>

<tr><td valign=top><font size=-1>
Check the continents you want to include:

<td valign=top><font size=-1>
<input type=checkbox name="global" value="YES" checked onClick="globalClick();"><i>global</i><br>
<input type=checkbox name="Africa" value="YES" onClick="continentClick();">Africa
<input type=checkbox name="Antarctica" value="YES" onClick="continentClick();">Antarctica
<input type=checkbox name="Asia" value="YES" onClick="continentClick();">Asia
<input type=checkbox name="Australia" value="YES" onClick="continentClick();">Australia
<input type=checkbox name="Europe" value="YES" onClick="continentClick();">Europe
<input type=checkbox name="North America" value="YES" onClick="continentClick();">North America
<input type=checkbox name="South America" value="YES" onClick="continentClick();">South America<br>

<tr><td valign=top><font size=-1>
... or a single country:</font></td>

<td valign=top><font size=-1>
<select id="country" onChange="countryChange()"></select>
</font></td>

<tr><td valign=top><font size=-1>
Latitudinal range:</font</td>

<td valign=top><font size=-1>
<input name="latmin" size="4" value="-90">&deg; to
<input name="latmax" size="4" value="90">&deg;
</font></td>

<tr><td valign=top><font size=-1>
Longitudinal range:</font</td>

<td valign=top><font size=-1>
<input name="lngmin" size="4" value="-180">&deg; to
<input name="lngmax" size="4" value="180">&deg;
</font></td>

<tr><td valign=top><font size=-1>
Geographic scale of collections:</font></td>

<td valign=top><font size=-1>
<input type=checkbox name="small_collection" value="YES" checked>small collection
<input type=checkbox name="outcrop" value="YES" checked>outcrop
<input type=checkbox name="local_area" value="YES" checked>local area
<input type=checkbox name="basin" value="YES" checked>basin
</font></td></tr>

<tr><td valign=top><font size=-1>
Stratigraphic scale of collections:</font></td>

<td valign=top><font size=-1>
<input type=checkbox name="bed" value="YES" checked>bed
<input type=checkbox name="group_of_beds" value="YES" checked>group of beds
<input type=checkbox name="member" value="YES" checked>member
<input type=checkbox name="formation" value="YES" checked>formation
<input type=checkbox name="group" value="YES" checked>group
</font></td></tr>

<tr><td valign=top><font size=-1>
Lump collections if they are from the exact same coordinate, formation, and member?
<td valign=top><font size=-1><select name=lump_by_mbr>
<option selected value="NO">no, keep them separate
<option value="YES">yes, lump them
</select>

<tr><td valign=top><font size=-1>
Lump occurrences of the same genus from the same collection?
<td valign=top><font size=-1><select name=lumpgenera>
<option selected value="NO">no, keep them separate
<option value="YES">yes, lump them
</select>

<tr><td valign=top><font size=-1>
Replace genus names with subgenus names, so subgenera are treated as separate genera?
<td valign=top><font size=-1><select name=split_subgenera>
<option selected value="NO">no, use the genus name
<option value="YES">yes, use the subgenus name
</select>

<tr><td valign=top><font size=-1>
Include generically indeterminate occurrences?
<td valign=top><font size=-1><select name=indet>
<option value="YES">yes, include them
<option selected value="NO">no, exclude them
</select>

<tr><td valign=top><font size=-1>
Include specifically indeterminate occurrences?</font></td>
<td valign=top><font size=-1><select name=sp>
<option value="NO">no, exclude them</option>
<option selected value="YES">yes, include them</option>
</select>
</font></td></tr>

<tr><td valign=top><font size=-1>
Include genus names that are qualified with "aff." or quotes?</font></td>
<td valign=top><font size=-1><select name=poor_genus_reso>
<option value="NO">no, exclude them</option>
<option selected value="YES">yes, include them</option>
</select>
</font></td></tr>

<tr><td valign=top><font size=-1>
Include occurrences falling outside their age ranges in Sepkoski's Compendium?</font></td>
<td valign=top><font size=-1><select name=compendium_ranges>
<option value="NO">no, exclude them</option>
<option selected value="YES">yes, include them</option>
</select>
</font></td></tr>

<tr><td valign=top><font size=-1>
Select the type of output:
<td valign=top><font size=-1><select name=collections_put>
<option selected>comma-delimited text
<option>tab-delimited text
<option>CONJUNCT
</select>
<p>

</table>

<hr>
<center><h3>Occurrence fields</h3></center>

<p>Check the occurrence and ecology/taphonomy fields that you want output.
Note that the collection ID and genus name fields are always output.</p>

<table width="100%">

<td valign=top><font size=-1>
<table bgcolor="EEEEEE">
<tr><td valign=top><font size=-1><input type=checkbox name=occurrences_authorizer value="YES" onClick="occurrencesClick();">authorizer
<td valign=top><font size=-1><input type=checkbox name=occurrences_enterer value="YES" onClick="occurrencesClick();">enterer
<td valign=top><font size=-1><input type=checkbox name=occurrences_modifier value="YES" onClick="occurrencesClick();">modifier
<td valign=top><font size=-1><input type=checkbox name=occurrences_occurrence_no value="YES" onClick="occurrencesClick();">occurrence no
<!--input type=checkbox name=occurrences_collection_no value="YES">collection_no-->
<!--input type=checkbox name=occurrences_genus_reso value="YES">genus_reso-->
<!--input type=checkbox name=occurrences_genus_name value="YES">genus_name-->
<!--input type=checkbox name=occurrences_species_reso value="YES">species_reso-->
<tr><td valign=top><font size=-1><input type=checkbox name=occurrences_species_name value="YES" onClick="occurrencesClick();">species name
<td valign=top><font size=-1><input type=checkbox name=occurrences_abund_value value="YES" onClick="occurrencesClick();">abund value
<td valign=top><font size=-1><input type=checkbox name=occurrences_abund_unit value="YES" onClick="occurrencesClick();">abund unit
<td valign=top><font size=-1><input type=checkbox name=occurrences_reference_no value="YES" onClick="occurrencesClick();">reference no
<tr><td valign=top><font size=-1><input type=checkbox name=occurrences_comments value="YES" onClick="occurrencesClick();">comments
<td valign=top><font size=-1><input type=checkbox name=occurrences_created value="YES" onClick="occurrencesClick();">created
<td valign=top><font size=-1><input type=checkbox name=occurrences_modified value="YES" onClick="occurrencesClick();">modified
<td valign=top><font size=-1><input type=checkbox name=collections_only value="YES" onClick="occurrencesNoneClick();"><nobr>NONE (get collection data only)</nobr>
</table>

<tr>
<td valign=top>
<nobr>
<select id="ecology1"></select>
<select id="ecology2"></select>
<select id="ecology3"></select>
</nobr>
<nobr>
<select id="ecology4"></select>
<select id="ecology5"></select>
<select id="ecology6"></select>
</nobr>
</td></tr>

</table>

<hr>
<center><h3>Collection fields</h3></center>

<p>Check the fields from the main collection data table that you want output.</p>

<table width="100%">

<td valign=top>

	<table border=0 width="100%" bgcolor="EEEEEE">
	<tr>
	<td class="cell" nowrap><font size=-1><center><input type=button onclick="collsCheckAll()" value="Check all"></td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_authorizer value="YES">authorizer</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_enterer value="YES">enterer</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_modifier value="YES">modifier</td>
	<!--td><input type=checkbox name=collections_collection_no value="YES">collection_no-->
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_subset value="YES"><nobr>collection subset</nobr></td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_reference_no value="YES">reference number</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_name value="YES">collection name</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_aka value="YES">collection aka</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_country value="YES">country</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_state value="YES">state</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_county value="YES">county</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_latdeg value="YES">lat degrees</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_latmin value="YES">lat minutes
	<input type=checkbox name=collections_latsec value="YES">lat seconds</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_latdec value="YES">lat decimal</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_latdir value="YES">lat direction</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lngdeg value="YES">long degrees</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lngmin value="YES">long minutes
	<input type=checkbox name=collections_lngsec value="YES">long seconds</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lngdec value="YES">long decimal</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lngdir value="YES">long direction</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_latlng_basis value="YES">lat/long basis</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_geogscale value="YES">geog scale</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_geogcomments value="YES">geog comments</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap colspan=4><font size=-1>&nbsp;</td>
	</tr>

    <tr>
    <td class="cell" nowrap><input type=checkbox name=collections_period value="YES">period</td>
    <td class="cell" nowrap><input type=checkbox name=collections_epoch value="YES">epoch</td>
    <td class="cell" nowrap><input type=checkbox name=collections_10mybin value="YES" CHECKED>10 m.y. bin</td>
    <td class="cell" nowrap>&nbsp;</td>
    </tr>
                                                                                                                                                             
    <tr>
    <td class="cell" nowrap><input type=checkbox name=collections_max_interval_no value="YES">max interval</td>
    <td class="cell" nowrap><input type=checkbox name=collections_min_interval_no value="YES">min interval</td>
    <td class="cell" nowrap>&nbsp;</td>
    <td class="cell" nowrap>&nbsp;</td>
    </tr>

    <tr>
    <td class="cell" nowrap colspan=4>&nbsp;</td></tr>
    </tr>
                                                                                                                                                             
    <tr>
    <td class="cell" nowrap colspan=4><i>The following 8 fields are obsolete</i></td></tr>
    </tr>
                                                                                                                                                             
    <tr>
    <td class="cell" nowrap><input type=checkbox name=collections_epoch_max value="YES">epoch max</td>
    <td class="cell" nowrap><input type=checkbox name=collections_epoch_min value="YES">epoch min</td>
    <td class="cell" nowrap><input type=checkbox name=collections_period_max value="YES">period max</td>
    <td class="cell" nowrap><input type=checkbox name=collections_period_min value="YES">period min</td>
    </tr>
                                                                                                                                                             
    <tr>
    <td class="cell" nowrap><input type=checkbox name=collections_intage_max value="YES">international age max</td>
    <td class="cell" nowrap><input type=checkbox name=collections_intage_min value="YES">international age min</td>
    <td class="cell" nowrap><input type=checkbox name=collections_locage_max value="YES">local age/stage max</td>
    <td class="cell" nowrap><input type=checkbox name=collections_locage_min value="YES">local age/stage min</td>
    </tr>
                                                                                                                                                             
    <tr>
    <td class="cell" nowrap colspan=4>&nbsp;</td></tr>
    </tr>



	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_zone value="YES">zone</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_geological_group value="YES">geological group</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_formation value="YES">formation</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_member value="YES">member</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_localsection value="YES">local section</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_localbed value="YES">local bed</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_localorder value="YES">local order</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_regionalsection value="YES">regional section</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_regionalbed value="YES">regional bed</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_regionalorder value="YES">regional order</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_stratscale value="YES">strat scale</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_stratcomments value="YES">strat comments</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithdescript value="YES">lith description</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap colspan=4><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithadj value="YES">lith adj 1</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithification value="YES">lithification 1</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithology1 value="YES">lithology 1</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_fossilsfrom1 value="YES">fossils from 1</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithadj2 value="YES">lith adj 2</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithification2 value="YES">lithification 2</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lithology2 value="YES">lithology 2</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_fossilsfrom2 value="YES">fossils from 2</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_environment value="YES">environment</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_tectonic_setting value="YES">tectonic setting</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_geology_comments value="YES">geology comments</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap colspan=4><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_pres_mode value="YES">preservation</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_lagerstatten value="YES">Lagerst&auml;tten type</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_concentration value="YES">concentration</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_assembl_comps value="YES">assemblage components</td>
    </tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_orientation value="YES">spatial orientation</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_preservation_quality value="YES">preservation quality</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_art_whole_bodies value="YES">articulated whole bodies</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_disart_assoc_maj_elems value="YES">associated major elements</td>
    </tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_disassoc_maj_elems value="YES">disassociated major elements</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_disassoc_minor_elems value="YES">disassociated minor elements</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_sorting value="YES">size sorting</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_fragmentation value="YES">fragmentation</td>
    </tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_bioerosion value="YES">bioerosion</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_encrustation value="YES">encrustation</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_feed_pred_traces value="YES">feeding/predation traces</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_temporal_resolution value="YES">temporal resolution</td>
    </tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_spatial_resolution value="YES">spatial resolution</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_taphonomy_comments value="YES">taphonomy comments</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
    </tr>

	<tr>
	<td class="cell" nowrap colspan=4><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_type value="YES">collection purpose</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_coverage value="YES">collection coverage</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_attributes value="YES">collection attributes</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_size value="YES">collection size</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_collection_comments value="YES">collection comments</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_taxonomy_comments value="YES">taxonomy comments</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	<tr>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_created value="YES">created</td>
	<td class="cell" nowrap><font size=-1><input type=checkbox name=collections_modified value="YES">modified</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	<td class="cell" nowrap><font size=-1>&nbsp;</td>
	</tr>

	</table>

</td>
</tr>

<table>

<hr>

<p align=center>
<input type=submit value="Create data set">
</p>

</form>
