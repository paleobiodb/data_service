<script language="JavaScript" type="text/javascript">
<!-- Begin

// Checks the form data
function checkForm ( ) {

    var frm = document.forms[0];
    var errors = "";

    var returnVal = checkIntervalNames();
    if (!returnVal) {
        return false;
    }

    if ( frm.collection_names.value == ""
        && frm.county.value == ""
        && frm.reference_no.value == ""
        && frm.taxon_name.value == ""
        && frm.country.value == ""
        && frm.state.value == ""
        && frm.max_interval.value == ""
        && frm.min_interval.value == ""
        && frm.group_formation_member.value == ""
        && frm.person_reversed.value == ""
        && frm.research_group.selectedIndex == 0 
        && frm.lithologies.selectedIndex == 0
        && frm.environment.selectedIndex == 0 ) {
        errors = "Please supply a search term";
    }

    if ( errors != "" ) { 
        alert ( errors );
        return false;
    } else {
        return true;
    }
}


//  End -->
</script>

<div align="center">
  <h2>Collection search form</h2>
</div>

<div align=center>
<form method=post action="bridge.pl" onSubmit="return checkForm();">
<input type=hidden name="action" value="displayCollResults">
<input type=hidden name="type">
<input type=hidden name="use_primary">

<div class="displayPanel" align=left>
  <span class="displayPanelHeader"><b>Search values</b></span>
  <div class="displayPanelContent small">
    <table border=0 cellpadding=2 cellspacing=2>
      <tr>
        <td>Collection name or number: </td><td><input name=collection_names class="small" size=20></td>
        <td style="padding-left: 1em">Reference number: </td><td><input name=reference_no class="small" size=6></td>
      </tr>
      <tr>
        <td>Data <select name="person_type" class="small"><option>authorizer</option><option>enterer</option><option>modifier</option><option value="any">any of above</option></select>: 
        </td>
        <td>
          <input name="person_reversed" onKeyUp="doComplete(event, this, entererNames());" class="small" size=16>
          <div show="is_contributor">
            <a href="#" onClick="document.forms[0].person_reversed.value='%%enterer_me%%'">Me</a>
          </div>
        </td>
        <td style="padding-left: 1em;">Research group or project: </td>
        <td><select id="research_group" class="small"></select>
      </tr>
      <tr>
        <td>Taxon name:</td><td><input name=taxon_name class="small"></td>
        <td style="padding-left: 1em;">Country/continent: </td><td><input name=country class="small"></td>
      </tr>
      <tr>
        <td>State/province: </td><td><input name=state class="small"></td>
        <td style="padding-left: 1em;">County/parish: </td><td><input name=county class="small"></td>
      </tr>
      <tr>
        <td>Oldest time interval (or age in Ma): </td><td colspan=3><select id="eml_max_interval" class="small" autofill="eml_interval"></select><input name="max_interval" class="small" onKeyUp="doComplete(event, this, intervalNames(),1);"></td>
      </tr>
      <tr>
        <td>Youngest time interval/Ma: </td><td colspan=3><select id="eml_min_interval" class="small" autofill="eml_interval"></select><input name="min_interval" class="small" onKeyUp="doComplete(event, this, intervalNames(),1);"></td>
      </tr>
      <tr>
        <td>Group, formation, or member:</td><td><input name="group_formation_member" class="small"></td>
      </tr>
      <tr>
        <td>Paleoenvironment: </td><td colspan=3><select id="environment" class="small"></select></td>
      </tr>
      <tr>
        <td>Lithology:</td><td colspan=3><select id="lithadjs" autofill="lithadj" class="small"></select><select id="lithologies" autofill="lithology1" class="small"></select><br></td>
      </tr>
      <tr>
        <td colspan=4 align="center">
          <div class="small" style="width: 640px;">
            <i>Hints: the search engine is not case sensitive.  If you select "allow wildcards," then you can use "_" to match any single character or "%" for an open ended match.</i>
          </div>
        </td>
      </tr>
    </table>

  </div>
</div>


<div class="displayPanel" align=left>
  <span class="displayPanelHeader"><b>Search and display options</b></span>
  <div class="displayPanelContent small">

    <table border=0 cellpadding=2 cellspacing=2>
      <tr valign=top>
        <td nowrap>Allow wildcards:
          <select name="wild" class="small">
            <option value="Y">yes, allow wildcards</option>
            <option value="N">no, require exact matches</option>
          </select>
        </td>
        <td nowrap style="padding-left: 2em;">Sort by:
          <select name="sortby" class="small">
            <option value="collection_no">collection number</option>
            <option value="collection_name">collection name</option>
            <option value="interval_name">time interval name</option>
            <option value="geography">country, state</option>
          </select>
          <select name=sortorder class="small"><option value="asc">ascending<option value="desc">descending</select>
        </td>
      </tr>
      <tr>
        <td colspan="2">Number of records per page: <input name=limit size=10 value=30 class="small">
      </tr>
    </table>

  </div>
</div>

<p><input type="submit" value="Search collections"></p>

</form>
</div>
