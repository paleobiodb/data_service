<script language="JavaScript" type="text/javascript">
<!-- Begin     
//pass this function a checkbox.
function checkAllRaw(checkbox) {
    var state = checkbox.checked;
    var frm = document.forms[0];

    var isRaw = /^print_((.*?)_raw|sampled|range-through|boundary-crosser|two_timer|three_timer|pie|refs|lists|occurrences|occurrences-squared|mean_richness|median_richness)$/;

    for(var i=0; i < frm.elements.length; i++){
        if(isRaw.test(frm.elements[i].name)) {
            frm.elements[i].checked = state;
        }
    }
}  
function checkAllSS(checkbox){
    var state = checkbox.checked;
    var frm = document.forms[0];

    var isSS = /^print_((.*?)_ss|michaelis-menten|corrected_bc|estimated_midpoint|origination_percentage|items|mean|estimated_mesa|extinction_percentage|median|ci|raw_sib|corrected_sib)$/;

    for(var i=0; i < frm.elements.length; i++){
        if(isSS.test(frm.elements[i].name)) {
            frm.elements[i].checked = state;
        }
    }
}  
-->
</script>

<CENTER>
<H1>Paleobiology Database Diversity Curve Request Form</H1></CENTER>

<p>
This form allows you to request a diversity curve with assorted statistics.
Submit the form without indicating any options for subsampling, unless you do want to perform subsampling analyses.</p>

<p>
<font color="FF0000"><b>Warning</b></font>: you must first <a href="$exec_url?action=displayDownloadForm">download</a> an occurrence data file or you can't do an analysis.
</p>

<!--
the following options have been deleted and might be replaced by augmenting the download script:

exclude lists with no county or precise lat/long
lump collections by formation
analysis restricted to paleoenvironmental zones 1 - 6
analysis restricted to one exact lithology (as opposed to carbonate or siliciclastic)
analysis restricted to a collection type (biostratigraphic, taxonomic, etc.)
exclude lists with at least or no more than some number of occurrences
mix and match of taxonomic groups
geographic dispersion algorithm

-->

<form method="POST" action="$exec_url">
 
<input type=hidden name="action" value="displayCurveResults">

<hr>

<table cellpadding=4>

<tr><td valign=top>
<font size=-1>Time scale:<br></font>
</td>

<td valign=top>
<font size=-1>
<select name=time_scale>
<option>periods</option>
<option>epochs</option>
<option>stages</option>
<option>10 m.y. bins</option>
</select>
</font>
</td></tr>

<tr><td valign=top>
<font size=-1>Diversity measure to report:<br></font>
<i><font size=-2>Two timers will tell you the Meaning of Life.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=diversity>
<option>boundary-crossers</option>
<option>range-through</option>
<option>range-through minus singletons</option>
<option>sampled-in-bin</option>
<option>sampled minus singletons</option>
<option selected>two timers</option>
<option>local boundary-crossers</option>
<option>local range-through</option>
</select>
</font>
</td></tr>

<tr><td valign=top>
<font size=-1>
Subsampling method:<br>
<i><font color="FF0000" size=-2>Required</font> <font size=-2>if you want to do a subsampling analysis.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=samplingmethod>
<option selected></option>
<option>classical rarefaction</option>
<option>by list (unweighted)</option>
<option>by list (occurrences weighted)</option>
<option>by list (occurrences-exponentiated weighted)</option>
<option>by specimen</option>
</select>
</font>
</td>

<tr><td valign=top>
<font size=-1>Weighting exponent:</font><br>
<i><font color="FF0000" size=-2>Required</font> <font size=-2>if you want to do occurrences-exponentiated subsampling. <font size=-2>Set this to 2.0 if you want occurrences-squared weighting. 0.0 = unweighted subsampling; 1.0 = occurrences-weighted subsampling.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=exponent>
<option>0.0
<option>0.1
<option>0.2
<option>0.3
<option>0.4
<option>0.5
<option>0.6
<option>0.7
<option>0.8
<option>0.9
<option>1.0
<option>1.1
<option>1.2
<option>1.3
<option>1.4
<option>1.5
<option>1.6
<option>1.7
<option>1.8
<option>1.9
<option selected>2.0
<option>2.1
<option>2.2
<option>2.3
<option>2.4
<option>2.5
<option>2.6
<option>2.7
<option>2.8
<option>2.9
<option>3.0
</select>
</font>
</td>

<tr><td valign=top>
<font size=-1>
Exact number of items (lists, occurrences, or occurrences-squared) to draw in each temporal bin:<br>
<i><font color="FF0000" size=-2>Required</font> <font size=-2>if you want to do
a subsampling analysis.</font></i>
</font>


<td valign=top>
<input name=samplesize>
<!--
<font size=-1>
<select name=samplesize>
<option selected>
<option>10
<option>20
<option>50
<option>100
<option>150
<option>200
<option>500
<option>1000
<option>1500
<option>2000
<option>5000
</select>
-->
</td>

<tr><td valign=top>
<font size=-1>Number of subsampling trials:<br></font>
<i><font color="FF0000" size=-2>Required</font> <font size=-2>if you want to do a subsampling analysis.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=samplingtrials>
<option selected></option>
<option>1</option>
<option>5</option>
<option>10</option>
<option>20</option>
<option>50</option>
<option>100</option>
</select>
</font>
</td>
</tr>

<tr><td valign=top>
<font size=-1>
Intermediate numbers of items to report in subsampling curves:<br>
</font>
<i><font size=-2>Not required.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=stepsize>
<option selected></option>
<option>1, 10, 100...</option>
<option>1, 3, 10, 30...</option>
<option>1, 2, 5, 10...</option>
<option>1, 2, 4, 8...</option>
<option>1, 1.4, 2, 2.8...</option>
<option>1000, 2000, 3000...</option>
<option>100, 200, 300...</option>
<option>50, 100, 150...</option>
<option>20, 40, 60...</option>
</select>
</font>
</td>

<tr><td valign=top>
<font size=-1>Print subsampling stats for intervals with less items than the exact quota?<br>
</font>
<i><font size=-2>Not required.</font></i>
</td>

<td valign=top>
<font size=-1>
<select name=printall>
<option selected>no</option>
<option>yes</option>
</select>
</font>
</td>
</tr>

<tr><td valign=top>
<font size=-1>Count references instead of genera?
</font></td>
<td valign=top>
<font size=-1>
<select name=count_refs>
<option selected>no</option>
<option>yes</option>
</select>
</font>
</font>
</td>
</tr>

<tr><td valign=top>
<font size=-1>
Maximum number of references to draw in each temporal bin:<br>
</font>
<i><font size=-2>The count may be exceeded for computational reasons. Works with unweighted, occurrences weighted, or occurrences-squared weighted subsampling. Important: don't combine this with the preceding or following options.
</font></i>

<td valign=top>
<input name=ref_quota>
</td>

<tr><td valign=top>
<font size=-1>Avoid collections coming from references that yield many collections?<br>
</font>
<i><font size=-2>Works only with unweighted or occurrences-weighted by-list subsampling.</font></i>
</td>
<td valign=top>
<font size=-1>
<select name=weight_by_ref>
<option selected>no</option>
<option>yes</option>
</select>
</font>
</font>
</td>
</tr>

<tr><td valign=top>
<font size=-1>Range marine genera through to the Recent using Sepkoski's Compendium?
</font></td>

<td valign=top>
<font size=-1>
<input type=checkbox name=recent_genera value="YES"> yes
</font>
</td>
</tr>

</table>

<hr>

<table cellpadding=4>

<tr><td valign=top>
<p>Raw data columns to print</p>
</td></tr>

<tr><td class="small" valign="top">
<b>
<input type="checkbox" onClick="checkAllRaw(this);"> Check all
</b>
</td></tr>   

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_base_raw" value="YES" checked> Base (Ma)
<input type="checkbox" name="print_midpoint_raw" value="YES" checked> Midpoint (Ma)
<input type="checkbox" name="print_sampled" value="YES" checked> Sampled genera
<input type="checkbox" name="print_range-through" value="YES" checked> Range-through genera
<input type="checkbox" name="print_boundary-crosser" value="YES" checked> Boundary-crosser genera
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_two_timer" value="YES"> Two timer genera
<nobr><input type="checkbox" name="print_three_timer" value="YES"> Three timer genera</nobr>
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_first_appearances_raw" value="YES"> First appearances
<input type="checkbox" name="print_origination_rate_raw" value="YES" checked> Origination rate
<input type="checkbox" name="print_last_appearances_raw" value="YES"> Last appearances
<input type="checkbox" name="print_extinction_rate_raw" value="YES" checked> Extinction rate
<input type="checkbox" name="print_singletons_raw" value="YES"> Singletons
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_gap_analysis_stat_raw" value="YES"> Gap analysis sampling stat
<input type="checkbox" name="print_gap_analysis_estimate_raw" value="YES"> Gap analysis diversity estimate
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_three_timer_stat_raw" value="YES"> Three timer sampling stat
<input type="checkbox" name="print_three_timer_estimate_raw" value="YES"> Three timer diversity estimate
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_chao-2_raw" value="YES"> Chao-2 estimate
<input type="checkbox" name="print_jolly-seber_raw" value="YES"> Jolly-Seber estimate
<input type="checkbox" name="print_pie" value="YES"> Evenness of occurrences (PIE)
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_lists" value="YES" checked> Lists
<input type="checkbox" name="print_occurrences" value="YES" checked> Occurrences
<input type="checkbox" name="print_occurrences-exponentiated" value="YES" checked> Occurrences-squared or exponentiated
<input type="checkbox" name="print_mean_richness" value="YES"> Mean richness
<input type="checkbox" name="print_median_richness" value="YES"> Median richness
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<p></p>
</td></tr>

<tr><td valign="top">
<p>Subsampling analysis columns to print</p>
</td></tr>

<tr><td class="small" valign="top">
<b>
<input type="checkbox" onClick="checkAllSS(this);"> Check all
</b>
</td></tr>   

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_base_ss" value="YES" checked> Base (Ma)
<input type="checkbox" name="print_midpoint_ss" value="YES" checked> Midpoint (Ma)
<input type="checkbox" name="print_items" value="YES" checked> Items sampled
<input type="checkbox" name="print_median" value="YES"> Median diversity
<input type="checkbox" name="print_ci" value="YES"> 1-sigma CI
<input type="checkbox" name="print_mean" value="YES" checked> Mean diversity
</nobr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_three_timers_ss" value="YES"> Mean three timers
<input type="checkbox" name="print_corrected_bc" value="YES"> Corrected BC diversity
<input type="checkbox" name="print_estimated_midpoint" value="YES"> Estimated midpoint diversity
<input type="checkbox" name="print_estimated_mesa" value="YES"> Estimated mesa diversity
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_raw_sib" value="YES" checked> Raw SIB diversity
<input type="checkbox" name="print_corrected_sib" value="YES" checked> Corrected SIB diversity
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_first_appearances_ss" value="YES"> First appearances
<input type="checkbox" name="print_origination_rate_ss" value="YES" checked> Origination rate
<input type="checkbox" name="print_origination_percentage" value="YES"> Origination percentage
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_last_appearances_ss" value="YES"> Last appearances
<input type="checkbox" name="print_extinction_rate_ss" value="YES" checked> Extinction rate
<input type="checkbox" name="print_extinction_percentage" value="YES"> Extinction percentage
<input type="checkbox" name="print_singletons_ss" value="YES"> Singletons
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_gap_analysis_stat_ss" value="YES"> Gap analysis sampling stat
<input type="checkbox" name="print_gap_analysis_estimate_ss" value="YES"> Gap analysis diversity estimate
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_three_timer_stat_ss" value="YES"> Three timer sampling stat
<input type="checkbox" name="print_three_timer_estimate_ss" value="YES"> Three timer diversity estimate
</nobr>
</td></tr>

<tr><td class="small" valign="top">
<nobr>
<input type="checkbox" name="print_chao-2_ss" value="YES"> Chao-2 estimate
<input type="checkbox" name="print_jolly-seber_ss" value="YES"> Jolly-Seber estimate
<input type="checkbox" name="print_michaelis-menten" value="YES"> Michaelis-Menten estimate
</nobr>
</td></tr>

</table>

<p><font size=-2>To compute Michaelis-Menten diversity estimates, set the diversity measure to "sampled-in-bin" and the subsampling method to "lists tallied."</font></p>

<hr>
<table cellpadding=4 width=100%>
<tr><td valign=top align=center><input type=submit value="Submit"></td></tr>
</table>


</form>

</BODY>
</HTML>
