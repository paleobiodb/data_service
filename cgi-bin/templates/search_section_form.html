<script language="JavaScript" type="text/javascript">
<!-- Begin

    // This is a handy little function for seeing what properties an object has
    function showProperties ( obj ) {
        var result = "";

        for ( var i in obj ) {
            result += "o." + i + " = " + obj[i] + "<BR>\n";
        }
        document.write ( result );
    }


// Zips pulldown to the current user
function me ( ) {

	// Loop over all forms on the page
	for ( var i=0; i < document.forms.length; i++ ) {
		// If we have an enterer pulldown
		if ( document.forms[i].enterer ) {

			var options = document.forms[i].enterer.options;

			// Loop over each option to find our person
			for ( var loop=0; loop < options.length; loop++) {
				if ( options[loop].value == "%%enterer%%" ) {
					options.selectedIndex = loop;
					break;
				} // fi
			} // rof
			break;
		} //fi
	} // rof
}

// Zips pulldown to the current authorizer
function auth ( ) {

	// Loop over all forms on the page
	for ( var i=0; i < document.forms.length; i++ ) {
		// If we have an authorizer pulldown
		if ( document.forms[i].authorizer ) {

			var options = document.forms[i].authorizer.options;

			// Loop over each option to find our person
			for ( var loop=0; loop < options.length; loop++) {
				if ( options[loop].value == "%%authorizer%%" ) {
					options.selectedIndex = loop;
					break;
				} // fi
			} // rof
			break;
		} //fi
	} // rof
}

// Checks the form data
function checkForm ( ) {

	var frm = document.forms[0];
	var errors = "";

	if ( frm.section_name.value == ""
        && frm.county.value == ""
        && frm.reference_no.value == ""
		&& frm.genus_name.value == ""
		&& frm.country.value == ""
		&& frm.state.value == ""
		&& frm.max_interval.value == ""
		&& frm.group_formation_member.value == ""
		&& frm.authorizer.selectedIndex == 0
		&& frm.enterer.selectedIndex == 0
		&& frm.research_group.selectedIndex == 0 
		&& frm.lithology1.selectedIndex == 0
		&& frm.environment.selectedIndex == 0 ) {
		errors = "Please supply a search term";
	}

	if ( errors != "" ) { 
		alert ( errors );
		return false;
	} else {
		return true;
	}
}


//  End -->
</script>

	<div class="title">Section search form</div>
	<div class="titleDetails">Fill in any of the following fields and press "Search sections"</div>

    <form method=post action="bridge.pl" onSubmit="return checkForm();">
	<input id="action" type=hidden name="action" value="displaySearchSectionResults">

    <center><p><font size=-1><i>Hints: the search engine is not case sensitive.  If you select "allow wildcards," then you can use "_" to match any single character.</i></font></p></center>

		<hr>

	<table width=100%><tr><td align=center>
    <table border=0 cellpadding=2 cellspacing=2>
	<tr><td colspan=4 align=center><b>Search values</b></td></tr>
	<tr>
      <td>Section name: <br><input name=section_name size=30><br></td>
	  <td>Reference number: <br><input name=reference_no size=30><br></td>
	</tr>
	<tr>
	  <td>Authorizer: <br><select name="authorizer"></select>&nbsp;<a href="javascript: auth( );">Me</a></td>
	  <td>Enterer: <br><select name="enterer"></select>&nbsp;<a href="javascript: me( );">Me</a></td>
	  <td>Research group or project: <br>
<select id="research_group">
</select>
</td>
	</tr>
	<tr>
	  <td>
	<nobr><select name="taxon_rank"><option>Higher-taxon<option>Genus<option>Genus and species<option>species</select>
	name:</nobr>
	<br><input name=genus_name size=30><br></td>
	</tr>
	<tr>
	  <td>Country: <br><input name=country size=30><br></td>
	  <td>State/province: <br><input name=state size=30><br></td>
	  <td>County/parish: <br><input name=county size=30><br></td>
	</tr>
	<tr>
	  <td>Oldest time interval (or age in Ma): <br><select id="eml_max_interval"></select><input name=max_interval size=15><br></td>
	  <td>Youngest time interval/Ma: <br><select id="eml_min_interval"></select><input name=min_interval size=15><br></td>
	</tr>
	<tr>
	  <td>Group, formation, or member:<BR><input name="group_formation_member" size=30></select><BR></td>
	  <td>Paleoenvironment: <br><select id="environment"></select><br></td>
	</tr>
	<tr>
	  <td>Lithology adjective 1: <br><select id="lithadj"></select></td> 
	  <td>Primary lithology:<br> <select id="lithology1"></select><br></td>
	</tr>
	<tr>
<!-- OPTIONAL collection_search -->
	  <td>Lithology adjective 2: <br><select id="lithadj2"></select></td> 
	  <td>Secondary lithology: <br><select id="lithology2"></select><br></td>
	
	  </tr>
<!-- END collection_search -->
	</table>
	</td></tr></table>
	<hr>


	<table width=100%><tr><td align=center>
	<table border=0 cellpadding=2 cellspacing=2>
	<tr>
		<td colspan="4" align=center><b>Search and display options</b></td>
	</tr>
	<tr>
	  <td colspan=4>Remove taxa from chart: <select name=show_taxon_list><option>YES</option><option SELECTED>NO</option></select><br></td>
	</tr>
	<tr>
	  <td colspan=4>Resolution of taxa in chart: <select name=taxon_resolution><option>genus</option><option SELECTED>species</option></select><br></td>
	</tr>
	<tr valign=top>
		<td><input type=radio name=wild value=N></td>
		<td>require exact matches</td>
		<td><input type=radio name=wild value=Y checked></td>
		<td>allow wildcards and partial string matches</td>
	</tr>
    <!-- END collection_search -->
    <tr>
	    <td colspan="4">Number of matching records shown: <input name=limit size=10 value=30>
    </tr>
</table>

<p><input type="submit" value="Search sections"></p>

</td></tr></table>

</form>
