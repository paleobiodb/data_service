<script language="JavaScript" type="text/javascript">
<!-- 
function checkFields() {
    var bad_info = "";
    var f = document.forms[0];
  
    var isFloat = /^([0-9]+(\.[0-9]+)?|(\.[0-9]+))$/;
    var minV = f.minimum_body_mass.value;
    var maxV = f.maximum_body_mass.value;
    var estimateV = f.body_mass_estimate.value;
    if (maxV != "" && !isFloat.test(maxV)) {
        bad_info += "Maximum body mass must be a positive decimal number\n";
    }
    if (minV != "" && !isFloat.test(minV)) {
        bad_info += "Minimum body mass must be a positive decimal number\n";
    }
    if (estimateV != "" && !isFloat.test(estimateV)) {
        bad_info += "Body mass estimate must be a positive decimal number\n";
    }

    if (isFloat.test(minV) && isFloat.test(minV)) {
        if (parseFloat(minV) > parseFloat(maxV)) {
            bad_info += "Maximum body mass must be greater than minimum\n";
        }
    }

    if ((minV != "" || maxV != "") && estimateV != "") {
        bad_info += "You can either fill in a body mass range or body mass estimate, but not both\n";
    }
    
    if ((minV != "" && maxV == "") || 
        (minV == "" && maxV != "")) {
        bad_info += "Missing a body mass minimum or maximum value\n";
    }
    

    if ( bad_info != "" ) { 
        bad_info = "Please correct the following errors and submit again:\n" + bad_info;
        alert(bad_info);
        return false; 
    }    
    return true;
} 
-->
</script> 

<center>
<h2>Vertebrate ecology form: <span id="taxon_name"></span></h2>
</center>

<hr>

<p><i>Note: this form is intended for adult morphologies only... Please see the <a href="javascript: tipsPopup('/public/tips/ecology_tips.html')">tip sheet</a>.</i></p>

<form method="POST" action="$exec_url" onSubmit="return checkFields();">

<input type=hidden name="action" value="startProcessEcologyForm">
<input id="taxon_no" name="taxon_no" type="hidden">
<input id="ecotaph_no" name="ecotaph_no" type="hidden">
<input type="hidden" name="goal" value="ecovert">

<h3>Morphology and development</h3>

<table cellpadding=5>
  <tr>
    <td colspan=3>
      <table>
        <tr><td>
          <b>Adult size</b>
        </td></tr>
        <tr>
          <td>
            <span class="tiny">May refer to pollen, seeds,<br> leaves, etc. for plants but only<br>to entire bodies for animals</span>
          </td>
          <td colspan=2>
            Measurements are of the entire body? 
            <input id="entire_body" type=checkbox value="yes">yes
          </td>
        </tr>
        <tr>
          <td></td>
          <td colspan=3>
            If no, name of body part: <input id="body_part" size=20>
        </tr>
        <tr>
          <td></td>
          <td><span class="small"><u>length</u></span></td>
          <td><span class="small"><u>width</u></span></td>
          <td><span class="small"><u>height</u></span></td>
        </tr>
        <tr>
          <td><b>Size estimate(s):</b></td>
          <td valign="top"><select id="adult_length"></select>
          <td valign="top"><select id="adult_width"></select>
          <td valign="top"><select id="adult_height"></select>
        </tr>
        <tr> 
          <td></td>
          <td></td>
          <td><span class="small"><u>area</u></span></td>
          <td><span class="small"><u>volume</u></span></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td valign="top"><select id="adult_area"></select>
          <td valign="top"><select id="adult_volume"></select>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td colspan=2>
      <b>Body mass range: minimum </b>
      <input id="minimum_body_mass" type="text" size=6>
      <select id="minimum_body_mass_unit" autofill="mass_units"></select>
      <b>to maximum</b>
      <input id="maximum_body_mass" type="text" size=6>
      <select id="maximum_body_mass_unit" autofill="mass_units"></select>
    </td>
  </tr>
  <tr>
    <td colspan=2>
      &nbsp;&nbsp;<i> ... or </i><b>body mass estimate: </b>
      <input id="body_mass_estimate" name="body_mass_estimate" size="8">
      <select id="body_mass_estimate_unit" autofill="mass_units"></select>
    </td>
  </tr>
  <tr>
    <td valign=top>
      <b>Body mass source</b>
      <select id="body_mass_source" name="body_mass_source">
    </td>
    <td>
      <b>Body mass estimate type</b>
      <select id="body_mass_type" name="body_mass_type">
    </td>
  </tr>
  <tr>
    <td colspan=2>
      <b>Body mass comment: </b>
      <input id="body_mass_comment" type="text" name="body_mass_comment" size="40">
    </td>
  </tr>
  <tr>
    <td valign=top>
      <b>Adult polymorphism/dimorphism?</b>
      <input id="polymorph" type=checkbox value="yes">yes
      <br>
    </td>
    <td>
      <b>Social grouping</b>
      <select id="grouping"></select>
    </td>
  </tr>
</table>

<hr>
<h3>Life history and behavior</h3>
<table cellpadding=5>
  <tr>
    <td valign=top><b>General environment</b></td>
    <td>
      <input id="taxon_environment" type=checkbox value="hypersaline">hypersaline
      <input id="taxon_environment" type=checkbox value="marine">marine
      <input id="taxon_environment" type=checkbox value="brackish">brackish
      <input id="taxon_environment" type=checkbox value="freshwater">freshwater
      <input id="taxon_environment" type=checkbox value="terrestrial">terrestrial
      <br>
      <input id="taxon_environment" type=checkbox value="coastal">coastal
      <input id="taxon_environment" type=checkbox value="inner shelf">inner shelf
      <input id="taxon_environment" type=checkbox value="outer shelf">outer shelf
      <input id="taxon_environment" type=checkbox value="oceanic">oceanic
    </td>
  </tr>
</table>

<table cellpadding=10>
  <tr>
    <td>
      <b>Life habit</b>
      <select id="life_habit" autofill="ecovert_life_habit"></select><br>
    </td>
  </tr>
  <tr>
    <td>
      <b>Diet/feeding mode 1</b>
      <select id="diet1" autofill="ecovert_diet"></select><br>
    </td>
    <td>
      <b>Diet/feeding mode 2</b>
      <select id="diet2" autofill="ecovert_diet"></select><br>
    </td>
  </tr>
  <tr>
    <td>
      <b>Reproduction</b>
      <select id="reproduction" autofill="ecovert_reproduction"></select><br>
    </td>
    <td>
      <b>Brooding?</b>
      <input id="brooding" type=checkbox value="yes">yes
    </td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <td valign="top">
      <b>Comments:</b>
    </td> 
    <td>
      <textarea id="comments" rows=3 wrap="virtual" cols=80></textarea>
    </td>
  </tr>
</table>

<table width=100%><tr><td align="center">
  <input type=submit value="Submit">
</td></tr></table>
</form>
<p>&nbsp;</p>

